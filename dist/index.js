"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),n=require("react-hook-form"),t=require("classnames");function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=a(e),r=a(t),o=function(){return(o=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var l in n=arguments[t])Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l]);return e}).apply(this,arguments)};function i(e,n,t,a){return new(t||(t=Promise))((function(l,r){function o(e){try{d(a.next(e))}catch(e){r(e)}}function i(e){try{d(a.throw(e))}catch(e){r(e)}}function d(e){var n;e.done?l(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,i)}d((a=a.apply(e,n||[])).next())}))}function d(e,n){var t,a,l,r,o={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return r={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function i(r){return function(i){return function(r){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,a&&(l=2&r[0]?a.return:r[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,r[1])).done)return l;switch(a=0,l&&(r=[2&r[0],l.value]),r[0]){case 0:case 1:l=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,a=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(l=o.trys,(l=l.length>0&&l[l.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!l||r[1]>l[0]&&r[1]<l[3])){o.label=r[1];break}if(6===r[0]&&o.label<l[1]){o.label=l[1],l=r;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(r);break}l[2]&&o.ops.pop(),o.trys.pop();continue}r=n.call(e,o)}catch(e){r=[6,e],a=0}finally{t=l=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,i])}}}var u=function(t){var a,o,i,d=n.useFormContext(),u=d.register,m=d.errors,s=d.setValue,f=d.trigger,c=e.useState({}),p=c[0],v=c[1],g=e.useState(!1),h=g[0],b=g[1];e.useEffect((function(){var e=t.validation;v(e)}),[]);return l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:"fg__checkbox-wrapper"},l.default.createElement("input",{id:t.id,type:"checkbox",className:r.default("form-control",{"is-invalid":m[t.name]}),name:t.name,checked:h,onChange:function(e){console.log("Checkbox onChange value:",e)},autoComplete:t.autocomplete?t.autocomplete:"off",ref:u(p)}),l.default.createElement("span",{className:"checkmark",onClick:function(){console.log("!checkboxValue",!h),s(t.name,!h),b(!h),f()}}),l.default.createElement("div",{className:"fg__checkbox-text",dangerouslySetInnerHTML:{__html:t.placeholder}})),l.default.createElement("div",{className:"invalid-feedback"},"required"==(null===(a=m[t.name])||void 0===a?void 0:a.type)?l.default.createElement(l.default.Fragment,null,""===(null===(o=m[t.name])||void 0===o?void 0:o.message)?l.default.createElement("span",null,"Il campo è richiesto"):l.default.createElement("span",null,null===(i=m[t.name])||void 0===i?void 0:i.message)):l.default.createElement(l.default.Fragment,null)))},m=function(t){var a,i,d,u,m,s,f,c,p,v,g,h,b,x,E,_,y,w,k=n.useFormContext(),F=k.register,G=k.errors,z=k.watch,L=k.setError,S=k.clearErrors,q=e.useState({}),N=q[0],I=q[1],C=e.useState(0),T=C[0],D=C[1],R=e.useState(0),U=R[0],O=R[1];return e.useEffect((function(){var e=t.validation;if(t.validation.minLength&&(t.validation.minLength.value?D(parseInt(t.validation.minLength.value)):D(parseInt(t.validation.minLength))),t.validation.maxLength&&(t.validation.maxLength.value?O(parseInt(t.validation.maxLength.value)):O(parseInt(t.validation.maxLength))),void 0!==t.validation.equalTo&&t.validation.equalTo.value){var n=t.validation.equalTo.value;e.validate=function(e){return e===z(n)}}I(o(o({},e),{pattern:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/}))}),[]),e.useEffect((function(){var e;console.log("useEFfect errors: ",G),"validate"==(null===(e=G[t.name])||void 0===e?void 0:e.type)&&t.validation.equalTo.value&&(console.log("useEFfect errors: ",G),L("repeatEmail",{type:"equalTo",message:"I due indirizzi email devono coincidere"}),S("validate"))}),[G]),l.default.createElement(l.default.Fragment,null,l.default.createElement("input",{id:t.id,type:"email",className:r.default("form-control",{"is-invalid":G[t.name]}),placeholder:t.placeholder,name:t.name,autoComplete:t.autocomplete?t.autocomplete:"off",ref:F(N)}),l.default.createElement("div",{className:"invalid-feedback"},"required"==(null===(a=G[t.name])||void 0===a?void 0:a.type)?l.default.createElement(l.default.Fragment,null,""===(null===(i=G[t.name])||void 0===i?void 0:i.message)?l.default.createElement("span",null,"Il campo email è richiesto"):l.default.createElement("span",null,null===(d=G[t.name])||void 0===d?void 0:d.message)):l.default.createElement(l.default.Fragment,null),"minLength"==(null===(u=G[t.name])||void 0===u?void 0:u.type)?l.default.createElement(l.default.Fragment,null,""===(null===(m=G[t.name])||void 0===m?void 0:m.message)?l.default.createElement("span",null,"La lunghezza minima è ",T," caratteri"):l.default.createElement("span",null,null===(s=G[t.name])||void 0===s?void 0:s.message)):l.default.createElement(l.default.Fragment,null),"maxLength"==(null===(f=G[t.name])||void 0===f?void 0:f.type)?l.default.createElement(l.default.Fragment,null,""===(null===(c=G[t.name])||void 0===c?void 0:c.message)?l.default.createElement("span",null,"La lunghezza massima è ",U," caratteri"):l.default.createElement("span",null,null===(p=G[t.name])||void 0===p?void 0:p.message)):l.default.createElement(l.default.Fragment,null),"pattern"==(null===(v=G[t.name])||void 0===v?void 0:v.type)?l.default.createElement(l.default.Fragment,null,""===(null===(g=G[t.name])||void 0===g?void 0:g.message)?l.default.createElement("span",null,"Inserire un&aposindirizzo email valido"):l.default.createElement("span",null,null===(h=G[t.name])||void 0===h?void 0:h.message)):l.default.createElement(l.default.Fragment,null),"validate"==(null===(b=G[t.name])||void 0===b?void 0:b.type)?l.default.createElement(l.default.Fragment,null,""===(null===(x=G[t.name])||void 0===x?void 0:x.message)?l.default.createElement("span",null,"Rispettare le regole di validazione"):l.default.createElement("span",null,null===(E=G[t.name])||void 0===E?void 0:E.message)):l.default.createElement(l.default.Fragment,null),"equalTo"==(null===(_=G[t.name])||void 0===_?void 0:_.type)?l.default.createElement(l.default.Fragment,null,""===(null===(y=G[t.name])||void 0===y?void 0:y.message)?l.default.createElement("span",null,"I due campi devono essere uguali"):l.default.createElement("span",null,null===(w=G[t.name])||void 0===w?void 0:w.message)):l.default.createElement(l.default.Fragment,null)))},s=function(t){var a,i,d,u,m,s,f,c,p,v,g,h,b,x,E,_,y,w,k=n.useFormContext(),F=k.register,G=k.errors,z=k.watch,L=e.useState({}),S=L[0],q=L[1],N=e.useState(0),I=N[0],C=N[1],T=e.useState(0),D=T[0],R=T[1];return e.useEffect((function(){var e=t.validation;if(t.validation.minLength&&(t.validation.minLength.value?C(parseInt(t.validation.minLength.value)):C(parseInt(t.validation.minLength))),t.validation.maxLength&&(t.validation.maxLength.value?R(parseInt(t.validation.maxLength.value)):R(parseInt(t.validation.maxLength))),void 0!==t.validation.equalTo&&t.validation.equalTo.value){var n=t.validation.equalTo.value;e.validate=function(e){return e===z(n)}}q(o({},e))}),[]),l.default.createElement(l.default.Fragment,null,l.default.createElement("input",{id:t.id,type:"password",className:r.default("form-control",{"is-invalid":G[t.name]}),placeholder:t.placeholder,name:t.name,autoComplete:t.autocomplete?t.autocomplete:"off",ref:F(S)}),l.default.createElement("div",{className:"invalid-feedback"},"required"==(null===(a=G[t.name])||void 0===a?void 0:a.type)?l.default.createElement(l.default.Fragment,null,""===(null===(i=G[t.name])||void 0===i?void 0:i.message)?l.default.createElement("span",null,"Il campo password è richiesto"):l.default.createElement("span",null,null===(d=G[t.name])||void 0===d?void 0:d.message)):l.default.createElement(l.default.Fragment,null),"minLength"==(null===(u=G[t.name])||void 0===u?void 0:u.type)?l.default.createElement(l.default.Fragment,null,""===(null===(m=G[t.name])||void 0===m?void 0:m.message)?l.default.createElement("span",null,"La lunghezza minima è ",I," caratteri"):l.default.createElement("span",null,null===(s=G[t.name])||void 0===s?void 0:s.message)):l.default.createElement(l.default.Fragment,null),"maxLength"==(null===(f=G[t.name])||void 0===f?void 0:f.type)?l.default.createElement(l.default.Fragment,null,""===(null===(c=G[t.name])||void 0===c?void 0:c.message)?l.default.createElement("span",null,"La lunghezza massima è ",D," caratteri"):l.default.createElement("span",null,null===(p=G[t.name])||void 0===p?void 0:p.message)):l.default.createElement(l.default.Fragment,null),"pattern"==(null===(v=G[t.name])||void 0===v?void 0:v.type)?l.default.createElement(l.default.Fragment,null,""===(null===(g=G[t.name])||void 0===g?void 0:g.message)?l.default.createElement("span",null,"Rispettare le regole di formattazione"):l.default.createElement("span",null,null===(h=G[t.name])||void 0===h?void 0:h.message)):l.default.createElement(l.default.Fragment,null),"validate"==(null===(b=G[t.name])||void 0===b?void 0:b.type)?l.default.createElement(l.default.Fragment,null,""===(null===(x=G[t.name])||void 0===x?void 0:x.message)?l.default.createElement("span",null,"Rispettare le regole di validazione"):l.default.createElement("span",null,null===(E=G[t.name])||void 0===E?void 0:E.message)):l.default.createElement(l.default.Fragment,null),"equalTo"==(null===(_=G[t.name])||void 0===_?void 0:_.type)?l.default.createElement(l.default.Fragment,null,""===(null===(y=G[t.name])||void 0===y?void 0:y.message)?l.default.createElement("span",null,"I due campi devono essere uguali"):l.default.createElement("span",null,null===(w=G[t.name])||void 0===w?void 0:w.message)):l.default.createElement(l.default.Fragment,null)))},f=function(e){switch(e){case"1":return 1;case"1/2":return.5;case"1/3":return.33;case"1/4":return.25;default:return 1}},c=function(e){switch(e){case"1":return"fg__col-full";case"1/2":return"fg__col-half";case"1/3":return"fg__col-third";case"1/4":return"fg__col-fourth";default:return"fg__col-full"}},p=function(e,n,t){return i(void 0,void 0,void 0,(function(){var a,l,r;return d(this,(function(o){switch(o.label){case 0:a=new URLSearchParams(t),l={},l="GET"==n?{method:n}:{method:n,body:t},o.label=1;case 1:return o.trys.push([1,4,,5]),[4,fetch(e+"?"+a,l)];case 2:return[4,o.sent().json()];case 3:return r=o.sent(),[2,{status:!0,data:r}];case 4:return o.sent(),[2,{status:!1,data:[]}];case 5:return[2]}}))}))},v=function(t){var a,o,u,m,s,f=n.useFormContext(),c=f.register,p=f.errors,v=e.useState({}),g=v[0],h=v[1],b=e.useState(!0),x=b[0],E=b[1],_=e.useState([]),y=_[0],w=_[1],k=e.useState(""),F=k[0],G=k[1];return e.useEffect((function(){var e=!1;console.log("props.validation.required",t.validation.required),t.validation.required.value&&(e=!0),!0===t.validation.required&&(e=!0),e&&(console.log("Here select Name: ",t.name),h({validate:function(e){return!!e}}))}),[t.validation]),e.useEffect((function(){var e,n;if(0!==(null===(e=t.data)||void 0===e?void 0:e.length)||t.fetchDataFromUrl){if(t.data&&(null===(n=t.data)||void 0===n?void 0:n.length)>0&&!t.fetchDataFromUrl)return w(t.data),void E(!1);if(t.fetchDataFromUrl){i(void 0,void 0,void 0,(function(){var e;return d(this,(function(n){switch(n.label){case 0:return[4,(a=t.fetchDataFromUrl,i(void 0,void 0,void 0,(function(){var e;return d(this,(function(n){switch(n.label){case 0:e={},n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch(a,e)];case 2:return[4,n.sent().json()];case 3:return[2,{status:!0,data:n.sent()}];case 4:return n.sent(),[2,{status:!1,data:[]}];case 5:return[2]}}))})))];case 1:return(e=n.sent()).status&&(w(e.data),E(!1)),[2,e]}var a}))}))}w(t.data);var a=(t.data,"CO");console.log("getDefaultValue",a),G(a)}else console.warn("FormGenerator: nessuna opzione fornita per il Select")}),[t.data]),l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:"fg__select-wrapper"},l.default.createElement("select",{id:t.id,className:r.default("form-control","fg__input-select",{"is-invalid":p[t.name]}),name:t.name,ref:c(g),autoComplete:t.autocomplete?t.autocomplete:"off",disabled:x,defaultValue:F},t.placeholder?l.default.createElement("option",{value:""},t.placeholder):l.default.createElement(l.default.Fragment,null),y.map((function(e,n){return l.default.createElement("option",{key:n,value:e.value,disabled:!!e.disabled},e.label)}))),l.default.createElement("div",{className:r.default("loader",{"loader-active":x})},l.default.createElement("span",null))),l.default.createElement("div",{className:"invalid-feedback"},"validate"==(null===(a=p[t.name])||void 0===a?void 0:a.type)?l.default.createElement(l.default.Fragment,null,""===(null===(u=null===(o=null==t?void 0:t.validation)||void 0===o?void 0:o.required)||void 0===u?void 0:u.message)?l.default.createElement("span",null,"Selezionare un opzione"):l.default.createElement("span",null,null===(s=null===(m=null==t?void 0:t.validation)||void 0===m?void 0:m.required)||void 0===s?void 0:s.message)):l.default.createElement(l.default.Fragment,null)))},g=function(t){var a,o,i,d,u,m,s,f,c,p,v,g,h,b,x,E,_,y,w=n.useFormContext(),k=w.register,F=w.errors,G=w.watch,z=w.setError,L=w.clearErrors,S=e.useState({}),q=S[0],N=S[1],I=e.useState(0),C=I[0],T=I[1],D=e.useState(0),R=D[0],U=D[1];return e.useEffect((function(){var e=t.validation;if(t.validation.minLength&&(t.validation.minLength.value?T(parseInt(t.validation.minLength.value)):T(parseInt(t.validation.minLength))),t.validation.maxLength&&(t.validation.maxLength.value?U(parseInt(t.validation.maxLength.value)):U(parseInt(t.validation.maxLength))),void 0!==t.validation.equalTo&&t.validation.equalTo.value){var n=t.validation.equalTo.value;e.validate=function(e){return e===G(n)}}N(e)}),[]),e.useEffect((function(){var e;"validate"==(null===(e=F[t.name])||void 0===e?void 0:e.type)&&t.validation.equalTo.value&&(z("repeatEmail",{type:"equalTo",message:"I due indirizzi email devono coincidere"}),L("validate"))}),[F]),l.default.createElement(l.default.Fragment,null,l.default.createElement("input",{id:t.id,type:"text",className:r.default("form-control",{"is-invalid":F[t.name]}),placeholder:t.placeholder,name:t.name,autoComplete:t.autocomplete?t.autocomplete:"off",ref:k(q)}),l.default.createElement("div",{className:"invalid-feedback"},"required"==(null===(a=F[t.name])||void 0===a?void 0:a.type)?l.default.createElement(l.default.Fragment,null,""===(null===(o=F[t.name])||void 0===o?void 0:o.message)?l.default.createElement("span",null,"Il campo è richiesto"):l.default.createElement("span",null,null===(i=F[t.name])||void 0===i?void 0:i.message)):l.default.createElement(l.default.Fragment,null),"minLength"==(null===(d=F[t.name])||void 0===d?void 0:d.type)?l.default.createElement(l.default.Fragment,null,""===(null===(u=F[t.name])||void 0===u?void 0:u.message)?l.default.createElement("span",null,"La lunghezza minima è ",C," caratteri"):l.default.createElement("span",null,null===(m=F[t.name])||void 0===m?void 0:m.message)):l.default.createElement(l.default.Fragment,null),"maxLength"==(null===(s=F[t.name])||void 0===s?void 0:s.type)?l.default.createElement(l.default.Fragment,null,""===(null===(f=F[t.name])||void 0===f?void 0:f.message)?l.default.createElement("span",null,"La lunghezza massima è ",R," caratteri"):l.default.createElement("span",null,null===(c=F[t.name])||void 0===c?void 0:c.message)):l.default.createElement(l.default.Fragment,null),"pattern"==(null===(p=F[t.name])||void 0===p?void 0:p.type)?l.default.createElement(l.default.Fragment,null,""===(null===(v=F[t.name])||void 0===v?void 0:v.message)?l.default.createElement("span",null,"Rispettare le regole di formattazione"):l.default.createElement("span",null,null===(g=F[t.name])||void 0===g?void 0:g.message)):l.default.createElement(l.default.Fragment,null),"validate"==(null===(h=F[t.name])||void 0===h?void 0:h.type)?l.default.createElement(l.default.Fragment,null,""===(null===(b=F[t.name])||void 0===b?void 0:b.message)?l.default.createElement("span",null,"Rispettare le regole di validazione"):l.default.createElement("span",null,null===(x=F[t.name])||void 0===x?void 0:x.message)):l.default.createElement(l.default.Fragment,null),"equalTo"==(null===(E=F[t.name])||void 0===E?void 0:E.type)?l.default.createElement(l.default.Fragment,null,""===(null===(_=F[t.name])||void 0===_?void 0:_.message)?l.default.createElement("span",null,"I due campi devono essere uguali"):l.default.createElement("span",null,null===(y=F[t.name])||void 0===y?void 0:y.message)):l.default.createElement(l.default.Fragment,null)))},h=function(t){var a,o,i,d,u,m,s,f,c,p,v,g,h,b,x,E,_,y,w=n.useFormContext(),k=w.register,F=w.errors,G=w.watch,z=w.setError,L=w.clearErrors,S=e.useState({}),q=S[0],N=S[1],I=e.useState(0),C=I[0],T=I[1],D=e.useState(0),R=D[0],U=D[1];return e.useEffect((function(){var e=t.validation;if(t.validation.minLength&&(t.validation.minLength.value?T(parseInt(t.validation.minLength.value)):T(parseInt(t.validation.minLength))),t.validation.maxLength&&(t.validation.maxLength.value?U(parseInt(t.validation.maxLength.value)):U(parseInt(t.validation.maxLength))),void 0!==t.validation.equalTo&&t.validation.equalTo.value){var n=t.validation.equalTo.value;e.validate=function(e){return e===G(n)}}N(e)}),[]),e.useEffect((function(){var e;"validate"==(null===(e=F[t.name])||void 0===e?void 0:e.type)&&t.validation.equalTo.value&&(z("repeatEmail",{type:"equalTo",message:"I due campi devono coincidere"}),L("validate"))}),[F]),l.default.createElement(l.default.Fragment,null,l.default.createElement("textarea",{id:t.id,className:r.default("form-control",{"is-invalid":F[t.name]}),placeholder:t.placeholder,name:t.name,autoComplete:t.autocomplete?t.autocomplete:"off",ref:k(q)}),l.default.createElement("div",{className:"invalid-feedback"},"required"==(null===(a=F[t.name])||void 0===a?void 0:a.type)?l.default.createElement(l.default.Fragment,null,""===(null===(o=F[t.name])||void 0===o?void 0:o.message)?l.default.createElement("span",null,"Il campo è richiesto"):l.default.createElement("span",null,null===(i=F[t.name])||void 0===i?void 0:i.message)):l.default.createElement(l.default.Fragment,null),"minLength"==(null===(d=F[t.name])||void 0===d?void 0:d.type)?l.default.createElement(l.default.Fragment,null,""===(null===(u=F[t.name])||void 0===u?void 0:u.message)?l.default.createElement("span",null,"La lunghezza minima è ",C," caratteri"):l.default.createElement("span",null,null===(m=F[t.name])||void 0===m?void 0:m.message)):l.default.createElement(l.default.Fragment,null),"maxLength"==(null===(s=F[t.name])||void 0===s?void 0:s.type)?l.default.createElement(l.default.Fragment,null,""===(null===(f=F[t.name])||void 0===f?void 0:f.message)?l.default.createElement("span",null,"La lunghezza massima è ",R," caratteri"):l.default.createElement("span",null,null===(c=F[t.name])||void 0===c?void 0:c.message)):l.default.createElement(l.default.Fragment,null),"pattern"==(null===(p=F[t.name])||void 0===p?void 0:p.type)?l.default.createElement(l.default.Fragment,null,""===(null===(v=F[t.name])||void 0===v?void 0:v.message)?l.default.createElement("span",null,"Rispettare le regole di formattazione"):l.default.createElement("span",null,null===(g=F[t.name])||void 0===g?void 0:g.message)):l.default.createElement(l.default.Fragment,null),"validate"==(null===(h=F[t.name])||void 0===h?void 0:h.type)?l.default.createElement(l.default.Fragment,null,""===(null===(b=F[t.name])||void 0===b?void 0:b.message)?l.default.createElement("span",null,"Rispettare le regole di validazione"):l.default.createElement("span",null,null===(x=F[t.name])||void 0===x?void 0:x.message)):l.default.createElement(l.default.Fragment,null),"equalTo"==(null===(E=F[t.name])||void 0===E?void 0:E.type)?l.default.createElement(l.default.Fragment,null,""===(null===(_=F[t.name])||void 0===_?void 0:_.message)?l.default.createElement("span",null,"I due campi devono essere uguali"):l.default.createElement("span",null,null===(y=F[t.name])||void 0===y?void 0:y.message)):l.default.createElement(l.default.Fragment,null)))},b=function(n){var t=n.fields,a=e.useState(null),r=a[0],o=a[1];return e.useEffect((function(){var e=[],n=0,a=[];t.map((function(l,r){var o="";o=l.layout?l.layout:"1/2";var i=f(o);if(n+=i,a.push(l),r>0){var d=f(t[r-1].layout);n<1&&n+d>1&&(n+=1)}n>=1&&(e.push(a),a=[],n=0),r===t.length-1&&e.push(a)})),o(e)}),[]),l.default.createElement("div",{className:"fg__fields fg__body"},r&&r.map((function(e,n){return l.default.createElement("div",{className:"row",key:n},e.map((function(e,n){var t=c(e.layout);return l.default.createElement("div",{className:t,key:n},l.default.createElement("div",{className:"fg__fields-field"},l.default.createElement(l.default.Fragment,null,l.default.createElement("label",null,e.label),"text"==e.type?l.default.createElement(g,{name:e.name,id:e.id,placeholder:e.placeholder,validation:e.validation,autocomplete:e.autocomplete}):l.default.createElement(l.default.Fragment,null),"email"==e.type?l.default.createElement(m,{name:e.name,id:e.id,placeholder:e.placeholder,validation:e.validation,autocomplete:e.autocomplete}):l.default.createElement(l.default.Fragment,null),"password"==e.type?l.default.createElement(s,{name:e.name,id:e.id,placeholder:e.placeholder,validation:e.validation,autocomplete:e.autocomplete}):l.default.createElement(l.default.Fragment,null),"select"==e.type?l.default.createElement(v,{name:e.name,id:e.id,placeholder:e.placeholder,validation:e.validation,autocomplete:e.autocomplete,data:e.data,fetchDataFromUrl:e.fetchDataFromUrl}):l.default.createElement(l.default.Fragment,null),"textarea"==e.type?l.default.createElement(h,{name:e.name,id:e.id,placeholder:e.placeholder,validation:e.validation,autocomplete:e.autocomplete}):l.default.createElement(l.default.Fragment,null),"checkbox"==e.type?l.default.createElement(u,{name:e.name,id:e.id,placeholder:e.placeholder,validation:e.validation,autocomplete:e.autocomplete}):l.default.createElement(l.default.Fragment,null))))})))})))},x=function(e){var n,t=e.title,a=e.subTitle;return""===t&&""===a?l.default.createElement(l.default.Fragment,null):""===t?l.default.createElement("div",{className:"row"},l.default.createElement("p",{className:"fg__subtitle"},(n=a)?n.split("\n").map((function(e,n){return l.default.createElement("p",{key:n},e)})):[l.default.createElement(l.default.Fragment,null)])):""===a?l.default.createElement("div",{className:"row"},l.default.createElement("h3",{className:"fg__title"},t)):l.default.createElement("header",null,l.default.createElement("h3",null,t),l.default.createElement("p",null,a))},E=function(n){var t=e.useState(!0),a=t[0],o=t[1];e.useEffect((function(){o(!0)}),[a]);var i=c((null==n?void 0:n.layout)?n.layout:"1/4"),d=(null==n?void 0:n.text)?n.text:"Invia",u=r.default("fg__button-submit",(null==n?void 0:n.class)?n.class:"",(null==n?void 0:n.block)?n.block:""),m=(null==n?void 0:n.id)?n.id:"";return l.default.createElement("div",{className:"row"},l.default.createElement("div",{className:i},l.default.createElement("div",{className:r.default("fg__button-submit-wrapper",{"with-loader":a})},(null==n?void 0:n.dom)?l.default.createElement(l.default.Fragment,null):l.default.createElement("input",{type:"submit",id:m,className:u,value:d}),(null==n?void 0:n.dom)&&"input"==n.dom?l.default.createElement("input",{type:"submit",id:m,className:u,value:d}):l.default.createElement(l.default.Fragment,null),(null==n?void 0:n.dom)&&"button"==n.dom?l.default.createElement("button",{type:"submit",id:m,className:u},d):l.default.createElement(l.default.Fragment,null),0==(null==n?void 0:n.loading)?l.default.createElement(l.default.Fragment,null):l.default.createElement("div",{className:r.default("loader",{"loader-active":a})},l.default.createElement("span",null)))))};!function(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css","top"===t&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}}('/**\r\n * Generate bootstrap container\r\n *\r\n * version -  0.1.0\r\n * @todo - implementarlo come mixins (studiare bootsrtrap\r\n */\n/**\r\n * Generate section style for dev\r\n *\r\n * version -  0.1.0\r\n */\n/**\r\n * Generate background color helper classes\r\n *\r\n * version -  0.1.0\r\n */\nbody {\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', \'Roboto\', \'Oxygen\',\r \'Ubuntu\', \'Cantarell\', \'Fira Sans\', \'Droid Sans\', \'Helvetica Neue\',\r sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale; }\n\n.repo-link {\n  color: #9017ff;\n  font-weight: 700;\n  font-size: 22px;\n  text-decoration: none !important; }\n\n.debug {\n  border: 1px solid red; }\n\n#navigation {\n  background: #eee; }\n  #navigation ul {\n    display: flex;\n    list-style-type: none;\n    margin-top: 0px !important;\n    margin-bottom: 0px !important;\n    padding-left: 0px; }\n    #navigation ul li {\n      padding: 10px;\n      margin: 0 30px 0 0; }\n      #navigation ul li a {\n        text-decoration: none;\n        color: #222;\n        text-transform: uppercase;\n        font-weight: 700;\n        opacity: 1; }\n        #navigation ul li a:hover {\n          opacity: 0.7; }\n\n.container {\n  width: 100%;\n  padding-right: 15px;\n  padding-left: 15px;\n  margin-right: auto;\n  margin-left: auto; }\n\n@media (min-width: 768px) {\n  .container {\n    max-width: 720px; } }\n\n@media (min-width: 992px) {\n  .container {\n    max-width: 960px; } }\n\n@media (min-width: 1200px) {\n  .container {\n    max-width: 1140px; } }\n\n@media (min-width: 1400px) {\n  .container {\n    max-width: 1400px; } }\n\n.section {\n  padding: 40px 0px; }\n  .section:nth-of-type(even) {\n    background: #eee; }\n\n.bg-white {\n  background: #fff;\n  background-color: #fff; }\n\n.bg-light {\n  background: #f9f9f9;\n  background-color: #f9f9f9; }\n\n/**\n * SASS styles for React Form Generator module\n *\n * @vesion 0.1.0\n * @author Stefano Gagliardi <stefano.gagliardi@sitisrl.it>\n */\n/**\n * Form Generator configuration style file.\n * Ovveride in your style var\n */\n#formGenerator header {\n  text-align: center; }\n\n#formGenerator .fg__body {\n  margin-top: 40px; }\n  #formGenerator .fg__body .fg__select-wrapper {\n    position: relative; }\n\n#formGenerator .row {\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-wrap: wrap;\n  flex-wrap: wrap;\n  margin-right: -15px;\n  margin-left: -15px; }\n  #formGenerator .row .fg__col-full,\n  #formGenerator .row .fg__col-half,\n  #formGenerator .row .fg__col-third,\n  #formGenerator .row .fg__col-fourth {\n    position: relative;\n    width: 100%;\n    min-height: 1px;\n    padding-right: 15px;\n    padding-left: 15px; }\n  #formGenerator .row .fg__col-full {\n    display: inline-block;\n    width: 100%;\n    padding-left: 15px;\n    padding-right: 15px; }\n  #formGenerator .row .fg__col-half {\n    display: inline-block;\n    width: 50%;\n    padding-left: 15px;\n    padding-right: 15px; }\n  #formGenerator .row .fg__col-third {\n    display: inline-block;\n    width: 33.3333333333%;\n    padding-left: 15px;\n    padding-right: 15px; }\n  #formGenerator .row .fg__col-fourth {\n    display: inline-block;\n    width: 25%;\n    padding-left: 15px;\n    padding-right: 15px; }\n\n#formGenerator .fg__fields .fg__fields-field {\n  flex-grow: 1;\n  padding: 10px 0px; }\n  #formGenerator .fg__fields .fg__fields-field label {\n    display: block;\n    font-weight: 600;\n    margin-bottom: 10px; }\n  #formGenerator .fg__fields .fg__fields-field .invalid-feedback > span {\n    display: block;\n    font-size: 12px;\n    margin-top: 5px;\n    color: crimson; }\n\n#formGenerator .fg__fields input[type="text"],\n#formGenerator .fg__fields input[type="email"],\n#formGenerator .fg__fields input[type="password"],\n#formGenerator .fg__fields select {\n  position: relative;\n  margin-bottom: 0;\n  display: block;\n  width: 100%;\n  padding: 10px 0px 10px 10px;\n  font-size: 1rem;\n  line-height: 1.5;\n  color: #495057;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  z-index: 2; }\n  #formGenerator .fg__fields input[type="text"].is-invalid,\n  #formGenerator .fg__fields input[type="email"].is-invalid,\n  #formGenerator .fg__fields input[type="password"].is-invalid,\n  #formGenerator .fg__fields select.is-invalid {\n    border: 1px solid crimson; }\n    #formGenerator .fg__fields input[type="text"].is-invalid:focus,\n    #formGenerator .fg__fields input[type="email"].is-invalid:focus,\n    #formGenerator .fg__fields input[type="password"].is-invalid:focus,\n    #formGenerator .fg__fields select.is-invalid:focus {\n      outline: none;\n      box-shadow: 0px 0px 6px rgba(237, 20, 61, 0.65); }\n  #formGenerator .fg__fields input[type="text"]:focus,\n  #formGenerator .fg__fields input[type="email"]:focus,\n  #formGenerator .fg__fields input[type="password"]:focus,\n  #formGenerator .fg__fields select:focus {\n    outline: none; }\n\n#formGenerator .fg__fields textarea {\n  display: block;\n  width: 100%;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  line-height: 1.5;\n  color: #495057;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  overflow: auto;\n  resize: vertical;\n  z-index: 2; }\n  #formGenerator .fg__fields textarea.is-invalid {\n    border: 1px solid crimson; }\n    #formGenerator .fg__fields textarea.is-invalid:focus {\n      outline: none;\n      box-shadow: 0px 0px 6px rgba(237, 20, 61, 0.65); }\n  #formGenerator .fg__fields textarea:focus {\n    outline: none; }\n\n#formGenerator .fg__fields .fg__checkbox-wrapper {\n  position: relative;\n  /* Hide the browser\'s default checkbox */\n  /* Create a custom checkbox */\n  /* On mouse-over, add a grey background color */\n  /* When the checkbox is checked, add a blue background */\n  /* Create the checkmark/indicator (hidden when not checked) */\n  /* Show the checkmark when checked */\n  /* Style the checkmark/indicator */ }\n  #formGenerator .fg__fields .fg__checkbox-wrapper input {\n    position: absolute;\n    opacity: 0;\n    cursor: pointer;\n    height: 0;\n    width: 0; }\n  #formGenerator .fg__fields .fg__checkbox-wrapper .checkmark {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 25px;\n    width: 25px;\n    background-color: #eee; }\n  #formGenerator .fg__fields .fg__checkbox-wrapper:hover input ~ .checkmark {\n    background-color: #ccc; }\n  #formGenerator .fg__fields .fg__checkbox-wrapper input:checked ~ .checkmark {\n    background-color: #2563EB; }\n  #formGenerator .fg__fields .fg__checkbox-wrapper .checkmark:after {\n    content: "";\n    position: absolute;\n    display: none; }\n  #formGenerator .fg__fields .fg__checkbox-wrapper input:checked ~ .checkmark:after {\n    display: block; }\n  #formGenerator .fg__fields .fg__checkbox-wrapper .checkmark:after {\n    left: 11px;\n    top: 7px;\n    width: 5px;\n    height: 10px;\n    border: solid white;\n    border-width: 0 3px 3px 0;\n    -webkit-transform: rotate(45deg);\n    -ms-transform: rotate(45deg);\n    transform: rotate(45deg); }\n\n#formGenerator .fg__fields .fg__checkbox-text {\n  padding-left: 45px; }\n\n#formGenerator .fg__button-submit-wrapper {\n  display: flex;\n  position: relative;\n  width: fit-content; }\n  #formGenerator .fg__button-submit-wrapper .fg__button-submit {\n    border-radius: 2px;\n    background-color: #DC2626;\n    border-color: #DC2626;\n    color: #fff;\n    -webkit-transition: 0.3s;\n    -moz-transition: 0.3s;\n    -ms-transition: 0.3s;\n    -o-transition: 0.3s;\n    transition: 0.3s;\n    -webkit-box-shadow: 0 2px 2px 0 rgba(156, 39, 176, 0.14), 0 3px 1px -2px rgba(156, 39, 176, 0.2), 0 1px 5px 0 rgba(156, 39, 176, 0.12);\n    -moz-box-shadow: 0 2px 2px 0 rgba(156, 39, 176, 0.14), 0 3px 1px -2px rgba(156, 39, 176, 0.2), 0 1px 5px 0 rgba(156, 39, 176, 0.12);\n    box-shadow: 0 2px 2px 0 rgba(156, 39, 176, 0.14), 0 3px 1px -2px rgba(156, 39, 176, 0.2), 0 1px 5px 0 rgba(156, 39, 176, 0.12);\n    position: relative;\n    display: block;\n    margin: 0px 0px;\n    padding: 0.375rem 0.75rem;\n    font-size: 0.8rem;\n    line-height: 1.5;\n    font-weight: 300;\n    letter-spacing: 0.5px;\n    text-transform: uppercase;\n    text-decoration: none;\n    border: 1 px solid #666;\n    border-radius: 0px;\n    white-space: nowrap;\n    vertical-align: middle;\n    overflow: hidden;\n    outline: 0;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    border: inherit !important;\n    opacity: 1;\n    cursor: pointer; }\n    #formGenerator .fg__button-submit-wrapper .fg__button-submit:hover {\n      background-color: #DC2626;\n      border-color: #DC2626;\n      opacity: 0.8;\n      color: #fff; }\n    #formGenerator .fg__button-submit-wrapper .fg__button-submit:focus, #formGenerator .fg__button-submit-wrapper .fg__button-submit:active, #formGenerator .fg__button-submit-wrapper .fg__button-submit:hover {\n      border: inherit !important; }\n  #formGenerator .fg__button-submit-wrapper.with-loader .fg__button-submit {\n    color: #DC2626; }\n  #formGenerator .fg__button-submit-wrapper .loader {\n    left: calc(50% - 22px / 2);\n    top: calc(50% - 22px   / 2);\n    position: absolute;\n    width: 22px;\n    height: 22px; }\n    #formGenerator .fg__button-submit-wrapper .loader span, #formGenerator .fg__button-submit-wrapper .loader span::after, #formGenerator .fg__button-submit-wrapper .loader span::before {\n      width: 22px;\n      height: 22px; }\n\n#formGenerator .fg__fields .loader {\n  position: absolute;\n  top: 5px;\n  left: calc(50% - 45px / 2);\n  z-index: 5;\n  display: none; }\n  #formGenerator .fg__fields .loader.loader-active {\n    display: block; }\n\n#formGenerator .fg__fields select:disabled {\n  background: rgba(0, 0, 0, 0.5); }\n\n/**\n * Input loader spinnig overlay\n */\n#formGenerator {\n  /* Loader 2 */ }\n  #formGenerator .loader {\n    display: block;\n    height: 32px;\n    width: 32px;\n    -webkit-animation: loader-1 3s linear infinite;\n    animation: loader-1 3s linear infinite; }\n\n@-webkit-keyframes loader-1 {\n  0% {\n    -webkit-transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg); } }\n\n@keyframes loader-1 {\n  0% {\n    transform: rotate(0deg); }\n  100% {\n    transform: rotate(360deg); } }\n  #formGenerator .loader span {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    margin: auto;\n    height: 32px;\n    width: 32px;\n    clip: rect(16px, 32px, 32px, 0);\n    -webkit-animation: loader-2 1.5s cubic-bezier(0.77, 0, 0.175, 1) infinite;\n    animation: loader-2 1.5s cubic-bezier(0.77, 0, 0.175, 1) infinite; }\n\n@-webkit-keyframes loader-2 {\n  0% {\n    -webkit-transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg); } }\n\n@keyframes loader-2 {\n  0% {\n    transform: rotate(0deg); }\n  100% {\n    transform: rotate(360deg); } }\n  #formGenerator .loader span::before {\n    content: "";\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    margin: auto;\n    height: 32px;\n    width: 32px;\n    border: 3px solid transparent;\n    border-top: 3px solid white;\n    border-radius: 50%;\n    -webkit-animation: loader-3 1.5s cubic-bezier(0.77, 0, 0.175, 1) infinite;\n    animation: loader-3 1.5s cubic-bezier(0.77, 0, 0.175, 1) infinite; }\n\n@-webkit-keyframes loader-3 {\n  0% {\n    -webkit-transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg); } }\n\n@keyframes loader-3 {\n  0% {\n    transform: rotate(0deg); }\n  100% {\n    transform: rotate(360deg); } }\n  #formGenerator .loader span::after {\n    content: "";\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    margin: auto;\n    height: 32px;\n    width: 32px;\n    border: 3px solid rgba(255, 255, 255, 0.7);\n    border-radius: 50%; }\n\n*,\n::after,\n::before {\n  box-sizing: border-box; }\n\n#formGenerator a {\n  color: #DC2626;\n  opacity: 1;\n  text-decoration: none; }\n  #formGenerator a:hover {\n    opacity: .8; }\n');exports.FormGenerator=function(t){var a=t.form,r=a.submit,u=a.buttonSubmit,m=n.useForm(),s=e.useCallback((function(e){return i(void 0,void 0,void 0,(function(){var n,t;return d(this,(function(a){switch(a.label){case 0:return n=r.onSubmit?r.onSubmit(e):e,r.backend?[4,p(r.endpoint,r.method,n)]:[3,2];case 1:t=a.sent(),console.log("Res call",t),a.label=2;case 2:return[2]}}))}))}),[]);return l.default.createElement(n.FormProvider,o({},m),l.default.createElement("div",{id:"formGenerator"},l.default.createElement("form",{onSubmit:m.handleSubmit(s),noValidate:!0},l.default.createElement(x,{title:a.title,subTitle:a.subTitle}),l.default.createElement(b,{fields:a.fields}),l.default.createElement(E,o({},u)))))};
//# sourceMappingURL=index.js.map
